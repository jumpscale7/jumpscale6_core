#!/usr/bin/env python
from JumpScale import j
j.application.start("jpackage")
from JumpScale.baselib import cmdutils
print "upload package to blobstor"
parser = cmdutils.ArgumentParser()
parser.add_argument('-a', '--all', required=False, action='store_true', help='do also for dependencies (all jpackages)')
parser.add_argument('--onlycode', required=False, action='store_true', help='to only upload jpackage files which are for coderecipes')

packages, args = cmdutils.getJPackage(parser,installed=False)
for package in packages:
    package.upload(dependencies=args.all,onlycode=args.onlycode)

j.application.stop()
